{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAc,sBACdC,EAASC,SAASC,cAAc,QAElCC,EAAW,IA6Bf,WACE,IAAKC,aAAaC,QAAQN,GACxB,OAEF,IAAMO,EAAYC,KAAKC,MAAMJ,aAAaC,QAAQN,IAE9CO,IACEA,EAAUG,QACZT,EAAOU,SAASD,MAAME,MAAQL,EAAUG,OAEtCH,EAAUM,UACZZ,EAAOU,SAASE,QAAQD,MAAQL,EAAUM,UAvChDC,GAEAb,EAAOc,iBAAiB,UAExB,SAAsBC,GAGpB,GAFAA,EAAEC,iBAGgC,KAAhChB,EAAOU,SAASD,MAAME,OACY,KAAlCX,EAAOU,SAASE,QAAQD,MAExB,OAAOM,MAAM,gCAEfC,QAAQC,IAAIZ,KAAKC,MAAMJ,aAAaC,QAAQN,KAC5CgB,EAAEK,OAAOC,QACTjB,aAAakB,WAAWvB,MAG1BC,EAAOc,iBAAiB,QAASS,EAAA1B,EAAA,EAEjC,SAAqBkB,GACnBZ,EAAWI,KAAKC,MAAMJ,aAAaC,QAAQN,KAAiB,GAC5D,IAAMyB,EAAOT,EAAEK,OAAOI,KAChBb,EAAQI,EAAEK,OAAOT,MACvBR,EAASqB,GAAQb,EACjBP,aAAaqB,QAAQ1B,EAAaQ,KAAKmB,UAAUvB,MAPI","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst formEl = document.querySelector('form');\n\nlet formData = {};\npopulateInputs();\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  if (\n    formEl.elements.email.value === '' ||\n    formEl.elements.message.value === ''\n  ) {\n    return alert('All inputs should be filled!');\n  }\n  console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n  e.target.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nformEl.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormInput(e) {\n  formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n  const name = e.target.name;\n  const value = e.target.value;\n  formData[name] = value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction populateInputs() {\n  if (!localStorage.getItem(STORAGE_KEY)) {\n    return;\n  }\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (savedData) {\n    if (savedData.email) {\n      formEl.elements.email.value = savedData.email;\n    }\n    if (savedData.message) {\n      formEl.elements.message.value = savedData.message;\n    }\n  }\n}\n"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$formData","localStorage","getItem","savedData","JSON","parse","email","elements","value","message","$b00c40859be242c5$var$populateInputs","addEventListener","e","preventDefault","alert","console","log","target","reset","removeItem","$parcel$interopDefault","name","setItem","stringify"],"version":3,"file":"03-feedback.ee06ea68.js.map"}